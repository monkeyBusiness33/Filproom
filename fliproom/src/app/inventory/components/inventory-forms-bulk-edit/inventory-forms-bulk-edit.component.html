<ion-header>
  <ion-toolbar>
    <ion-title>Bulk Edit Inventory</ion-title>
  </ion-toolbar>
</ion-header>

<p  style="font-style: italic" >These changes will be applied to all rows with a quantity assigned.</p>

<ion-content>
  <form [formGroup]="bulkEditForm" class="padding-s">
    <div class="margin-top-s form-field-container">

      <div *ngIf="displayFields.quantity" class="form-field-item">
        <mat-form-field appearance="fill">
          <mat-label>Quantity</mat-label>
          <input matInput type="number" formControlName="quantity" autocomplete="off">
        </mat-form-field>
      </div>

      <div *ngIf="displayFields.cost && trackCost" class="form-field-item">
        <mat-form-field appearance="fill">
          <mat-label>Cost</mat-label>
          <input matInput type="number" formControlName="cost" autocomplete="off">
        </mat-form-field>
      </div>

      <div *ngIf="displayFields.payout" class="form-field-item">
        <mat-form-field appearance="fill">
          <mat-label>Payout</mat-label>
          <input matInput type="number" formControlName="payout" autocomplete="off">
        </mat-form-field>
      </div>

      <div *ngIf="displayFields.status" class="form-field-item">
        <mat-form-field appearance="fill">
          <mat-label>Status</mat-label>
          <mat-select formControlName="status">
            <mat-option *ngFor="let option of statusOptions" [value]="option">{{option | titlecase}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div *ngIf="displayFields.notes" class="form-field-item">
        <mat-form-field appearance="fill">
          <mat-label>Notes</mat-label>
          <input matInput type="text" formControlName="notes" autocomplete="off">
        </mat-form-field>
      </div>

      <div *ngIf="displayFields.priceSourceMargin && inventoryType == 'virtual'" class="form-field-item">
        <mat-form-field appearance="fill">
          <mat-label>Margin on market</mat-label>
          <input matInput type="number" formControlName="priceSourceMargin" autocomplete="off">
        </mat-form-field>
      </div>

      <!-- <div class="variant-chip-list">
        <mat-form-field appearance="fill">
          <mat-label>Variants</mat-label>
          <mat-chip-list class="variant-list-item" #chipList formControlName="variantControl" aria-label="Variant selection">
            <mat-chip *ngFor="let variant of selectedVariants" (removed)="remove(variant)">
              {{variant}}
              <button matChipRemove [attr.aria-label]="'remove ' + variant">
                <mat-icon>cancel</mat-icon>
              </button>
            </mat-chip>
          </mat-chip-list>
          <input matInput placeholder="Enter variant..." #variantInput formControlName="variantCtrl"
            [matChipInputFor]="chipList" [matAutocomplete]="auto"
            [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
            (matChipInputTokenEnd)="add($event)"/>
          <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event)">
            <mat-option *ngFor="let variant of filteredVariants | async" [value]="variant">
              {{variant}}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
      </div> -->
    </div>
  </form>
</ion-content>

<ion-footer >
  <button mat-stroked-button (click)="onCancel()">Cancel</button>
  <button mat-flat-button color="primary" (click)="onSubmit()" test-id="submit">Apply</button>
</ion-footer>
